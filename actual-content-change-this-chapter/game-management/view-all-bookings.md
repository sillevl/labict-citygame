# View all Bookings

## Partial

After someone created a booking, then the booking will be visible on the adminpanel. All the bookings will be displayed in the "View all the bookings" partial.

![](/assets/Allbookings.png)

### Display information

The information from the booking is displayed by getting the information out of the database. Let's have a look what's inside the collection of the bookings. First we have an "oid", this is some kind of large string of random numbers and characters generated by the database \(MongoDB\). Everything under the "oid" is the information that we want to display in the partial. \(See UML below of the collection Booking\)

![](/assets/bookingsuml.png)

For getting the information, we needed to create some getters. The getter in the green box \(getAllBookings\) is used for getting al the bookings that are created by people who want to play the game. Once we had all the bookings, we used the getters in the red box to display the information on the screen. These getters will get the individual parts from a booking. These individual parts will be forwarded to the partial by giving it to the routes. These routes are some sort of connection between the php class and the html partial. Now that the html partial have access to the individual parts of the booking, we can use twig to displayed it on the screen. Twig is a flexible, fast, and secure template engine for PHP.

![](/assets/Allbookingsuml.png)

### Accept button

When you press on the accept button from aspecific booking, then all the information from that specific booking will be placed in a new game in the game collection. \(See picture below\)

![](/assets/Acceptbutton.png)

For this event to take place, we need some methods to use in the routes for the accept button. First we need to get the accepted booking out of the database. For this we made a getBooking\(\) method \(See below right UML\). This method gets the specific booking by looking for its "oid" in the collection. For getting all the information from the specific booking that we got from the getBooking\(\) method, we used a method from the Game class. This method is createFromBooking\(\) \(See below left UML\). This method will get all the information from the accepted booking and put it into a new game in the game collection by y using the save\(\) method \(See below left UML\).

![](/assets/Acceptbutton2.png)

### Deny button

When you press on the deny button of a specific booking, then the booking will be deleted out of the database. The method that we created for deleting the specific booking is deleteBooking\(\) \(See picture below\). It deletes the booking by searching for the matching "oid" of the specific booking that you have denied by pressing on the button.

![](/assets/denybutton.png)




# Scenario

## Partial

In the page where you can edit the game, there is a partial that can add a scenario to the game. This partial is called "Choose the game". \(See picture below\)

![](/assets/scenario.png)

### Display information

The information that u can see in the picture above is from the scenario collections. These scenario have been put in the database by the game creators. They create the game and send it to our database in the collection of scenarios. Let's have a look what's inside the collection of the scenarios. First we have an "oid", this is some kind of large string of random numbers and characters generated by the database \(MongoDB\). the information in the red boxes will be displayed in the partial. \(See UML below of the collection game\)

![](/assets/scenarioUML.png)

For getting the information, we needed to create some getters. The getter in the red box \(getScenarios\) is used for getting al the scenarios from the collection scenarios. This getter takes the name and the full description from these scenarios. It puts them into a string. This string will be placed in a array togheter with the "oid" from the scenario. This array will be returned and will be forwarded to the partial by giving it to the routes. These routes are some sort of connection between the php class and the html partial. Now that the html partial have access string with information about the scenarios, we can use twig to displayed it on the screen. Twig is a flexible, fast, and secure template engine for PHP.

![](/assets/scenarioUML2.png)

### Choosing and submitting:

When you want to submit a scenario to add it to the game, you can only choose one. After you chose one, you can choose another one and the old scenario will be replaced by the new scenario. Let's have a look what happens when you press submit. First of all the method that will be called when you press submit, is the "getscenario\(\)" method. This method will get the scpecific scenario that you have chosen by the "oid" \(autogenerated by database\). 

![](/assets/scenarioUML3.png)

Then we get the game you are editing out of the database by using the "downloadGame\(\)" method. This method shall search for the game you are editing by "oid". When you got the correct game out of the database, then we use the method "appendScenario\(\)" to update the game by adding the scenatio to the game. The information of the booking will still be in there and the scenario will be added like an update.

![](/assets/gameUML2.png)

Now the game is ready to be played.



